<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>关于我</title>
    <url>/19487/</url>
    <content><![CDATA[<meta name="referrer" content="no-referrer" />
<a id="more"></a>

<p><strong>生于1996❤️</strong></p>
<p><strong>有喜欢的人</strong></p>
<p><strong>热爱吉他 滑板</strong></p>
<video id="video" controls="" preload="none" poster="https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/689edc3dadc7181450becaa2fb9f3483a789c759b11dd1cb540931de705cbdcaafa15c54ae8705663049a18e0466e581?pictype=scale&from=30113&version=3.3.3.3&uin=99172376&fname=avatar.png&size=750">
      <source id="mp4" src="https://mvvideo11.meitudata.com/5dd810a98c6654930.mp4?k=0a79bd43e974d3b8cc8836b889947681&t=5f1f639e" type="video/mp4">
</video>
]]></content>
      <tags>
        <tag>关于我</tag>
      </tags>
  </entry>
  <entry>
    <title>HTML转换PDF</title>
    <url>/198480456/</url>
    <content><![CDATA[<meta name="referrer" content="no-referrer" />
<a id="more"></a>


<h1 id="HTML转换PDF"><a href="#HTML转换PDF" class="headerlink" title="HTML转换PDF"></a>HTML转换PDF</h1><h2 id="添加maven依赖"><a href="#添加maven依赖" class="headerlink" title="添加maven依赖"></a>添加maven依赖</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itextpdf.tool<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>xmlworker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.5.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itextpdf<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>itext-asian<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.xhtmlrenderer<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flying-saucer-pdf-itext5<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>9.0.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="转换环境准备"><a href="#转换环境准备" class="headerlink" title="转换环境准备"></a>转换环境准备</h2><ol>
<li><strong>输入的HTML页面必须是标准的HTML</strong><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span> <span class="meta-string">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/1999/xhtml&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>语法必须是标准的HTML语法：所有标签都必须闭合</strong></li>
<li><strong>CSS中必须指定字体，然后在java代码中设置相应的字体</strong><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fine.demo.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.common.base.Throwables;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.DocumentException;</span><br><span class="line"><span class="keyword">import</span> com.itextpdf.text.pdf.BaseFont;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.xhtmlrenderer.pdf.ITextFontResolver;</span><br><span class="line"><span class="keyword">import</span> org.xhtmlrenderer.pdf.ITextRenderer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2020 杭州***有限公司</span></span><br><span class="line"><span class="comment"> * Date: 2020/9/29</span></span><br><span class="line"><span class="comment"> * Time: 下午1:35</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 2020年 &lt;a href=&quot;mailto:finedemo@163.com&quot;&gt;秀&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTypeConvertUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String pdfPath;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String fontPath;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将HTML转成PDF格式的文件</span></span><br><span class="line"><span class="comment">     * html文件的格式比较严格</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> htmlFilePath html文件路径</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> pdfFilePath pdf文件路径</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">html2pdf</span><span class="params">(String htmlFilePath, String pdfFilePath)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            log.info(<span class="string">&quot;FileTypeConvertUtil[]html2pdf[]start! htmlFilePath:&#123;&#125;, pdfFilePath:&#123;&#125;&quot;</span>, htmlFilePath, pdfFilePath);</span><br><span class="line">            <span class="comment">// step 1</span></span><br><span class="line">            String url = <span class="keyword">new</span> File(htmlFilePath).toURI().toURL().toString();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// step 2</span></span><br><span class="line">            OutputStream os = <span class="keyword">new</span> FileOutputStream(pdfFilePath);</span><br><span class="line">            ITextRenderer renderer = <span class="keyword">new</span> ITextRenderer();</span><br><span class="line">            renderer.setDocument(url);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// step 3 解决中文支持</span></span><br><span class="line">            String fontPath = <span class="string">&quot;&quot;</span>;</span><br><span class="line">            ITextFontResolver fontResolver = renderer.getFontResolver();</span><br><span class="line">            fontResolver.addFont(fontPath, BaseFont.IDENTITY_H, BaseFont.EMBEDDED);</span><br><span class="line"></span><br><span class="line">            renderer.layout();</span><br><span class="line">            renderer.createPDF(os);</span><br><span class="line">            os.close();</span><br><span class="line">            log.info(<span class="string">&quot;FileTypeConvertUtil[]html2pdf[]success!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;FileTypeConvertUtil[]html2pdf[]error! cause:&#123;&#125;&quot;</span>, Throwables.getStackTraceAsString(e));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 【maven项目打jar包,无法获取font路径】</span></span><br><span class="line"><span class="comment">     *  解决方案：将文件提取到jar包通路径</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 构造jar包外部的pdf文件夹+字体文件</span></span><br><span class="line">            log.info(<span class="string">&quot;FileTypeConvertUtil[]init[]make[]contractFile[]start!&quot;</span>);</span><br><span class="line">            pathInit();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 创建pdf文件夹</span></span><br><span class="line">            log.info(<span class="string">&quot;FileTypeConvertUtil[]init[]createPdfFile[]pdfPath:&#123;&#125;&quot;</span>, pdfPath);</span><br><span class="line">            createPdfFile();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 初始化字体文件</span></span><br><span class="line">            log.info(<span class="string">&quot;FileTypeConvertUtil[]init[]createFontFile[]fontPath:&#123;&#125;&quot;</span>, fontPath);</span><br><span class="line">            createFontFile();</span><br><span class="line"></span><br><span class="line">            log.info(<span class="string">&quot;FileTypeConvertUtil[]init[]success!&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;FileTypeConvertUtil[]init[]error! cause:&#123;&#125;&quot;</span>, Throwables.getStackTraceAsString(e));</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">createFontFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        InputStream fontIs = <span class="keyword">this</span>.getClass().getResourceAsStream(<span class="string">&quot;/pdf/simsun.ttf&quot;</span>);</span><br><span class="line">        OutputStream outputStream = <span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(fontPath));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> byteCount = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span> ((byteCount = fontIs.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            outputStream.write(bytes, <span class="number">0</span>, byteCount);</span><br><span class="line">        &#125;</span><br><span class="line">        fontIs.close();</span><br><span class="line">        outputStream.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">createPdfFile</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        File contractFile = <span class="keyword">new</span> File(pdfPath);</span><br><span class="line">        <span class="keyword">if</span> (!contractFile.exists()) &#123;</span><br><span class="line">            contractFile.mkdir();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">pathInit</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 项目路径</span></span><br><span class="line">        String jarPath = <span class="keyword">this</span>.getClass().getProtectionDomain().getCodeSource().getLocation().getPath();</span><br><span class="line">        <span class="comment">// 项目名称</span></span><br><span class="line">        String itemName = <span class="string">&quot;***.jar&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (jarPath.contains(itemName)) &#123;</span><br><span class="line">            <span class="comment">// jarPath路径需自己调试</span></span><br><span class="line">            jarPath = jarPath.substring(<span class="number">6</span>, jarPath.indexOf(itemName));</span><br><span class="line">        &#125;</span><br><span class="line">        pdfPath = jarPath + <span class="string">&quot;pdf&quot;</span>;</span><br><span class="line">        fontPath = pdfPath + <span class="string">&quot;/simsun.ttf&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2></li>
</ol>
<p><strong>中文不显示问题</strong>:<br>body加上任意中文字体，如宋体：SimSun</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">&quot;font-family: SimSun&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>夹哇成长历程</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo 基本使用Api</title>
    <url>/1769128473/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <tags>
        <tag>写作技巧</tag>
      </tags>
  </entry>
  <entry>
    <title>谷歌百度搜索我是陈独秀</title>
    <url>/22703/</url>
    <content><![CDATA[<meta name="referrer" content="no-referrer" />
<a id="more"></a>

<p>谷歌百度搜索我是陈独秀</p>
<p><a href="https://finedemo.cn" class="LinkCard" target="_blank">独秀的博客</a></p>
<p>demo</p>
]]></content>
      <tags>
        <tag>夹哇成长历程</tag>
      </tags>
  </entry>
  <entry>
    <title>Makdown使用说明</title>
    <url>/30919/</url>
    <content><![CDATA[<meta name="referrer" content="no-referrer" />
<a id="more"></a>

<h2 id="段落及区块引用"><a href="#段落及区块引用" class="headerlink" title="段落及区块引用"></a>段落及区块引用</h2><blockquote>
<p>这段文字将被高亮显示<br><a href="http://www.baidu.com/">点击跳转百度</a></p>
</blockquote>
<p><img data-src="https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/46761c07812784afea32873ba78450cc75a35f3ddb763ef809f487f8b409e2f0b7c979807d2570729c21069fa1e8ccdb?pictype=scale&from=30013&version=3.3.3.3&uin=99172376&fname=markdown.png&size=750" alt="markdown"></p>
<center>demo</center>

<p><img data-src="https://upload-images.jianshu.io/upload_images/703764-605e3cc2ecb664f6.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片"></p>
<p>注： 引用图片和链接的唯一区别就是在最前方添加一个感叹号。</p>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><ul>
<li>有序列表</li>
<li>无序列表</li>
</ul>
<ol>
<li>demo</li>
<li>demo</li>
</ol>
<h2 id="使用列表的一些注意事项"><a href="#使用列表的一些注意事项" class="headerlink" title="使用列表的一些注意事项"></a>使用列表的一些注意事项</h2><p>如果在单一列表项中包含了多个段落，为了保证渲染正常，*与段落首字母之间必须保留四个空格</p>
<ul>
<li><p>段落一</p>
<p>小段一</p>
</li>
<li><p>段落二</p>
<p>小段二</p>
</li>
<li><p>段落一</p>
</li>
</ul>
<blockquote>
<p>区块标记一</p>
</blockquote>
<ul>
<li>段落二</li>
</ul>
<blockquote>
<p>区块标记二</p>
</blockquote>
<hr>
<p><strong>这里是粗体</strong></p>
<p><strong><em>这里是斜体</em></strong></p>
<h2 id="插入代码块"><a href="#插入代码块" class="headerlink" title="插入代码块"></a>插入代码块</h2><figure class="highlight crystal"><table><tr><td class="code"><pre><span class="line">public void <span class="function"><span class="keyword">fun</span>() &#123;</span></span><br><span class="line"><span class="function">    <span class="title">int</span></span> i;</span><br><span class="line">    System.<span class="keyword">out</span>.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>int i;</code><br><code>int i;</code></p>
<h2 id="插入表格"><a href="#插入表格" class="headerlink" title="插入表格"></a>插入表格</h2><table>
<thead>
<tr>
<th align="center">表头</th>
<th>头目一</th>
<th>头目二</th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td></td>
<td></td>
</tr>
</tbody></table>
]]></content>
      <tags>
        <tag>写作技巧</tag>
        <tag>夹哇成长历程</tag>
      </tags>
  </entry>
</search>
